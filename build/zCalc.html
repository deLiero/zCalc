<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>zCalc 0.10.1</title>
  <style>body,html{padding:0;margin:0}.addShadow,.zcalc_{box-shadow:0 2px 1px #cecece}.zcalc_,.zcalc_ ._input{border:1px solid #d0d0d0;color:#333}html{font-family:tahoma,arial,verdana,sans-serif,"Lucida Sans";font-size:10px}body{font-size:1.6em;background-color:#eee}.container{margin:5px auto;position:relative;width:645px}div{box-sizing:border-box}.left-block{width:20pc;margin-right:325px}.right-block{float:right;font-size:.7em;height:500px;overflow-x:hidden;overflow-y:auto;width:20pc}.delete-wrapper{cursor:pointer;display:none;opacity:.7;position:absolute;right:-20px;top:0;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.delete-wrapper:hover{opacity:1}.zcalc_{background-color:#fff;position:relative;width:100%}.zcalc_ ._z-body{padding:15px 15px 0}.zcalc_ ._z-panel{margin:10px 0}.zcalc_ ._z-panel.-bottom{position:absolute;left:10px;right:10px;bottom:0}.zcalc_ ._z-panel.-mid{line-height:2em}.zcalc_ ._input{margin:0;padding:5px 2%;text-align:right;-webkit-transition:border .2s ease-out;transition:border .2s ease-out;width:96%}.zcalc_ ._btn,.zcalc_ ._result{padding:10px 0;font-weight:700}.zcalc_ ._input:focus{border:1px solid #a0a0a0;outline:0}.zcalc_ ._btn{background-color:#3a9bdc;border:1px solid #2980b9;border-radius:4px;width:100%}.log,.right-block .log{border:1px solid #d0d0d0;box-shadow:0 2px 1px #cecece}.zcalc_ ._btn:active{background-color:#2980b9}.zcalc_ ._btn:focus{outline:0}.zcalc_ ._result{overflow-x:auto;font-size:2em;text-align:right;white-space:nowrap;width:100%}.zcalc_ ._small{font-size:.7em;margin-left:10px}.zcalc_ ._big{display:inline-block;margin-left:10px}.zcalc_ ._error{color:#f06354}.zcalc_ ._settings{display:none;position:absolute;padding:0 10px;top:50px;left:0;right:0;bottom:0;background-color:#34495e}.log,.log .save-log,.right-block .log{background-color:#fff}.zcalc_ ._settings select{color:#333}.zcalc_ ._settings.-shown{display:block}.zcalc_ ._z-bottom{padding:5px 15px;text-align:center;font-size:.7em}.zcalc_ ._z-bottom span{display:inline-block;font-size:1em;font-weight:700;padding-right:5px}.zcalc_ ._z-bottom a{color:#3a9bdc}.zcalc_ ._z-bottom a:hover{color:#2980b9}.zcalc_ ._z-bottom a:visited{color:#3a9bdc}.log-container{margin:5px auto;font-size:.7em;overflow-x:hidden;padding-bottom:3px;width:100%}.log{padding:5px;position:relative;width:100%;-webkit-transition:margin 150ms ease-in;transition:margin 150ms ease-in}.log .save-log{color:#888;cursor:pointer;display:none;padding:2px 5px;position:absolute;right:0;top:0}.log:hover .save-log{display:block}.log:hover .save-log:hover{color:#333}.log div{margin-bottom:3px;word-break:break-all}.right-block .log{margin-bottom:5px;margin-left:100%;padding:5px;position:relative}.right-block .log .remove-log{background-color:#fff;color:#888;cursor:pointer;display:none;padding:2px 5px;position:absolute;right:0;top:0}.right-block .log:hover .remove-log{display:block}.right-block .log:hover .remove-log:hover{color:#333}</style>
</head>
<body>
<div class="container">
  <div id="saved-logs" class="right-block"></div>
  <div class="left-block">
    <div class="zcalc_">
      <div class="_z-center">
        <div class="_z-body">
          <div class="_z-panel">
            <input type="text" id="user-input" class="_input"/>
          </div>
          <div class="_z-panel">
            <div id="result" class="_result">0</div>
          </div>
        </div>
      </div>
      <div class="_z-bottom"><span>zCalc</span><a href="https://github.com/deLiero/zCalc">deLiero</a></div>
    </div>
    <div id="log-container" class="log-container">
    </div>
  </div>
  <div id="delete-all-logs" class="delete-wrapper"><img width="12" height="12" alt="удалить все логи" title="удалить все" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAABcSAAAXEgFnn9JSAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAAA8ElEQVR42qST4Y3CMAyFPyIWyAq3gj0CWYERuBHoCDACHeEYgRXcWRgh9wMHpaEpnM5SpMbp9xS/125yzvyntuVBVSNwBK5mNi29rKoHIJrZufQ2OecC3wAB7kBqRVT1CJx8O5rZN0Dwxo/DABG4qap0YICDql7qEb6a2xaRBOwamJopAnsfIbYiTa/U5MzDA7+mrAAtnMzsXnuAm5bcxI/gmUAlMq4InGt4NkLH7bZeIg5/gBcjDm/gacGTmUjwr7AHp46xEbgABDdl6Lm9ks74HMF/jqEX1YLIYGaPtHLOzyUiOxGJda85jyIide93AKtnmA2ngX8CAAAAAElFTkSuQmCC">
  </div>
</div>
<script>function ZCalc(){function n(n){return n.replace(/[^1-9]/g,"")}this.calculate=function(e){if(e=n(e),0==(e+"").length)return[0];var t=0,l=[];for(l.push(e);e>9;){e+="";for(var i=0;i<e.length;i++)t+=parseInt(e.charAt(i));e=t,l.push(e),t=0}return l}}var calc=function(){function n(n,i){try{var r=y.calculate(i),a=l(r);b=e(n,f.value,a)}catch(o){console.error(o.message),t(o)}finally{f.focus()}}function e(n,e,t){for(var l="",i=0;i<t.length;i++)0==i?l+=t[i]:l=l+" "+t[i];return m.innerHTML="<div class='log'><div class='save-log' onclick='calc.saveAndAnimate()'>сохранить</div><div><b>input: </b>"+n+"</div><div><b>normalized: </b>"+e+"</div><div><b>output: </b>"+l+"</div></div>",{before:n,after:e,result:t}}function t(n){m.innerHTML="<div class='log'><div><b>error: </b>"+n.message+"</div></div>"}function l(n){if("undefined"!=typeof n&&0!=n.length){var e=n.length;return 1==e?(g.innerHTML=n[0],[n[0]]):2==e?(g.innerHTML=n[e-1],[n[e-1]]):3==e?(g.innerHTML='<span class="_small">'+n[e-2]+'</span><span class="_big">'+n[e-1]+"</span>",[n[e-2],n[e-1]]):(g.innerHTML='<span class="_small">'+n[e-3]+'</span><span class="_small">'+n[e-2]+'</span><span class="_big">'+n[e-1]+"</span>",[n[e-3],n[e-2],n[e-1]])}}function i(){h.style.display="block"}function r(){h.style.display="none"}function a(){return""==p.innerHTML.trim()}function o(n){n&&(p.removeChild(n),a()&&r())}function s(){p.innerHTML="",r()}function c(n){return n?(console.log(a()),a()&&i(),p.insertBefore(n,p.firstChild),!0):!1}function u(){var n=v(b);if(null!==n){b=null;var e=m.getElementsByClassName("log")[0];e.style.marginLeft="-120%",c(n),setTimeout(function(){n.style.marginLeft="0"},100)}}function d(){u(),f.select()}function v(n){if(!n)return null;for(var e="",t=0;t<n.result.length;t++)0==t?e+=n.result[t]:e=e+" "+n.result[t];var l="<div class='remove-log'>удалить</div><div><b>input: </b>"+n.before+"</div><div><b>normalized: </b>"+n.after+"</div><div><b>output: </b>"+e+"</div>",i=document.createElement("div");return i.className="log",i.innerHTML=l,i}var f=document.getElementById("user-input"),g=document.getElementById("result"),m=document.getElementById("log-container"),p=document.getElementById("saved-logs"),b=null,h=document.getElementById("delete-all-logs"),y=new ZCalc,L=13;return window.onblur=function(){f.blur()},window.onfocus=function(){f.select()},f.oninput=function(){var e=f.value;f.value=f.value.replace(/[^1-9]/g,""),n(e,f.value)},f.onkeydown=function(n){n.which==L&&(n.preventDefault(),u())},f.onkeyup=function(n){n.which===L&&f.select()},p.onclick=function(n){var e=n.target;if("remove-log"===e.className){var t=e.parentNode;"log"===t.className&&o(t)}},h.onclick=s,f.focus(),{saveAndAnimate:d}}();</script>
</body>
</html>