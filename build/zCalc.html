<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>zCalc 0.10.2</title>
  <style>body,html{padding:0;margin:0}.addShadow,.zcalc_{box-shadow:0 2px 1px #cecece}.zcalc_,.zcalc_ ._input{border:1px solid #d0d0d0;color:#333}html{font-family:tahoma,arial,verdana,sans-serif,"Lucida Sans";font-size:10px}body{font-size:1.6em;background-color:#eee}.container{margin:5px auto;position:relative;width:645px}div{box-sizing:border-box}.left-block{width:20pc;margin-right:325px}.right-block{float:right;font-size:.7em;height:500px;overflow-x:hidden;overflow-y:auto;width:20pc}.delete-wrapper{cursor:pointer;display:none;opacity:.7;position:absolute;right:-20px;top:0;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.delete-wrapper:hover{opacity:1}.zcalc_{background-color:#fff;position:relative;width:100%}.zcalc_ ._z-body{padding:15px 15px 0}.zcalc_ ._z-panel{margin:10px 0}.zcalc_ ._z-panel.-bottom{position:absolute;left:10px;right:10px;bottom:0}.zcalc_ ._z-panel.-mid{line-height:2em}.zcalc_ ._input{margin:0;padding:5px 2%;text-align:right;-webkit-transition:border .2s ease-out;transition:border .2s ease-out;width:96%}.zcalc_ ._btn,.zcalc_ ._result{padding:10px 0;font-weight:700}.zcalc_ ._input:focus{border:1px solid #a0a0a0;outline:0}.zcalc_ ._btn{background-color:#3a9bdc;border:1px solid #2980b9;border-radius:4px;width:100%}.log,.right-block .log{border:1px solid #d0d0d0;box-shadow:0 2px 1px #cecece}.zcalc_ ._btn:active{background-color:#2980b9}.zcalc_ ._btn:focus{outline:0}.zcalc_ ._result{overflow-x:auto;font-size:2em;text-align:right;white-space:nowrap;width:100%}.zcalc_ ._small{font-size:.7em;margin-left:10px}.zcalc_ ._big{display:inline-block;margin-left:10px}.zcalc_ ._error{color:#f06354}.zcalc_ ._settings{display:none;position:absolute;padding:0 10px;top:50px;left:0;right:0;bottom:0;background-color:#34495e}.log,.log .save-log,.right-block .log{background-color:#fff}.zcalc_ ._settings select{color:#333}.zcalc_ ._settings.-shown{display:block}.zcalc_ ._z-bottom{padding:5px 15px;text-align:center;font-size:.7em}.zcalc_ ._z-bottom span{display:inline-block;font-size:1em;font-weight:700;padding-right:5px}.zcalc_ ._z-bottom a{color:#3a9bdc}.zcalc_ ._z-bottom a:hover{color:#2980b9}.zcalc_ ._z-bottom a:visited{color:#3a9bdc}.log-container{margin:5px auto;font-size:.7em;overflow-x:hidden;padding-bottom:3px;width:100%}.log{padding:5px;position:relative;width:100%;-webkit-transition:margin .2s ease-in;transition:margin .2s ease-in}.log .save-log{color:#888;cursor:pointer;display:none;padding:2px 5px;position:absolute;right:0;top:0}.log:hover .save-log{display:block}.log:hover .save-log:hover{color:#333}.log div{margin-bottom:3px;word-break:break-all}.right-block #saved-logs{-webkit-transition:margin .2s linear;transition:margin .2s linear;width:100%}.right-block #saved-logs.move-right{margin-left:100%}.right-block .log{margin-bottom:5px;margin-left:100%;padding:5px;position:relative}.right-block .log .remove-log{background-color:#fff;color:#888;cursor:pointer;display:none;padding:2px 5px;position:absolute;right:0;top:0}.right-block .log:hover .remove-log{display:block}.right-block .log:hover .remove-log:hover{color:#333}</style>
</head>
<body>
<div class="container">
  <div class="right-block">
    <div id="saved-logs"></div>
  </div>
  <div class="left-block">
    <div class="zcalc_">
      <div class="_z-center">
        <div class="_z-body">
          <div class="_z-panel">
            <input type="text" id="user-input" class="_input"/>
          </div>
          <div class="_z-panel">
            <div id="result" class="_result">0</div>
          </div>
        </div>
      </div>
      <div class="_z-bottom"><span>zCalc</span><a href="https://github.com/deLiero/zCalc">deLiero</a></div>
    </div>
    <div id="log-container" class="log-container">
    </div>
  </div>
  <div id="delete-all-logs" class="delete-wrapper"><img width="12" height="12" alt="удалить все логи" title="удалить все" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAABcSAAAXEgFnn9JSAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAAA8ElEQVR42qST4Y3CMAyFPyIWyAq3gj0CWYERuBHoCDACHeEYgRXcWRgh9wMHpaEpnM5SpMbp9xS/125yzvyntuVBVSNwBK5mNi29rKoHIJrZufQ2OecC3wAB7kBqRVT1CJx8O5rZN0Dwxo/DABG4qap0YICDql7qEb6a2xaRBOwamJopAnsfIbYiTa/U5MzDA7+mrAAtnMzsXnuAm5bcxI/gmUAlMq4InGt4NkLH7bZeIg5/gBcjDm/gacGTmUjwr7AHp46xEbgABDdl6Lm9ks74HMF/jqEX1YLIYGaPtHLOzyUiOxGJda85jyIide93AKtnmA2ngX8CAAAAAElFTkSuQmCC">
  </div>
</div>
<script>function ZCalc(){function n(n){return n.replace(/[^1-9]/g,"")}this.calculate=function(e){if(e=n(e),0==(e+"").length)return[0];var t=0,i=[];for(i.push(e);e>9;){e+="";for(var r=0;r<e.length;r++)t+=parseInt(e.charAt(r));e=t,i.push(e),t=0}return i}}var calc=function(){function n(n,e){try{var l=T.calculate(e),o=r(l);y=t(n,m.value,o)}catch(a){console.error(a.message),i(a)}finally{m.focus()}}function e(){m.value="",g.innerHTML="0"}function t(n,e,t){for(var i="",r=0;r<t.length;r++)0==r?i+=t[r]:i=i+" "+t[r];return p.innerHTML="<div class='log'><div class='save-log' onclick='calc.saveAndAnimate()'>сохранить</div><div><b>input: </b>"+n+"</div><div><b>normalized: </b>"+e+"</div><div><b>output: </b>"+i+"</div></div>",{before:n,after:e,result:t}}function i(n){p.innerHTML="<div class='log'><div><b>error: </b>"+n.message+"</div></div>"}function r(n){if("undefined"!=typeof n&&0!=n.length){var e=n.length;return 1==e?(g.innerHTML=n[0],[n[0]]):2==e?(g.innerHTML=n[e-1],[n[e-1]]):3==e?(g.innerHTML='<span class="_small">'+n[e-2]+'</span><span class="_big">'+n[e-1]+"</span>",[n[e-2],n[e-1]]):(g.innerHTML='<span class="_small">'+n[e-3]+'</span><span class="_small">'+n[e-2]+'</span><span class="_big">'+n[e-1]+"</span>",[n[e-3],n[e-2],n[e-1]])}}function l(){h.style.display="block"}function o(){h.style.display="none"}function a(){return""==b.innerHTML.trim()}function s(n){n&&(E?(n.addEventListener("transitionend",function(){b.removeChild(n),a()&&o()},!1),n.style.marginLeft=""):(b.removeChild(n),a()&&o()))}function u(){b.innerHTML="",o()}function c(n){return n?(console.log(a()),a()&&l(),b.insertBefore(n,b.firstChild),!0):!1}function d(){var n=f(y);if(null!==n){y=null;var e=p.getElementsByClassName("log")[0];e.style.marginLeft="-105%",c(n),setTimeout(function(){n.style.marginLeft="0"},16)}}function v(){d(),e(),m.focus()}function f(n){if(!n)return null;for(var e="",t=0;t<n.result.length;t++)0==t?e+=n.result[t]:e=e+" "+n.result[t];var i="<div class='remove-log'>удалить</div><div><b>input: </b>"+n.before+"</div><div><b>normalized: </b>"+n.after+"</div><div><b>output: </b>"+e+"</div>",r=document.createElement("div");return r.className="log",r.innerHTML=i,r}var m=document.getElementById("user-input"),g=document.getElementById("result"),p=document.getElementById("log-container"),b=document.getElementById("saved-logs"),y=null,h=document.getElementById("delete-all-logs"),T=new ZCalc,L=13,E=function(){var n=document.createElement("div"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in e)if(void 0!==n.style[t])return e[t];return!1}();return window.onblur=function(){m.blur()},window.onfocus=function(){m.select()},m.oninput=function(){var e=m.value;m.value=m.value.replace(/[^1-9]/g,""),n(e,m.value)},m.onkeydown=function(n){n.which==L&&(n.preventDefault(),d(),e(),m.focus())},b.onclick=function(n){var e=n.target;if("remove-log"===e.className){var t=e.parentNode;"log"===t.className&&s(t)}},h.onclick=u,m.focus(),{saveAndAnimate:v}}();</script>
</body>
</html>