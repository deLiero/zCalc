<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>zCalc</title>
  <style>body,html{padding:0;margin:0}.zcalc_,.zcalc_ ._input{border:1px solid #d0d0d0;color:#333}html{font-family:tahoma,arial,verdana,sans-serif,"Lucida Sans";font-size:10px}body{font-size:1.6em;background-color:#eee}.container{margin:5px auto;position:relative;width:20pc}div{box-sizing:border-box}.zcalc_{background-color:#fff;position:relative;width:100%}.zcalc_ ._z-body{padding:15px 15px 0}.zcalc_ ._z-panel{margin:10px 0}.zcalc_ ._z-panel.-bottom{position:absolute;left:10px;right:10px;bottom:0}.zcalc_ ._z-panel.-mid{line-height:2em}.zcalc_ ._input{margin:0;padding:5px 2%;text-align:right;-webkit-transition:border .2s ease-out;transition:border .2s ease-out;width:96%}.zcalc_ ._btn,.zcalc_ ._result{padding:10px 0;font-weight:700}.zcalc_ ._input:focus{border:1px solid #a0a0a0;outline:0}.zcalc_ ._btn{background-color:#3a9bdc;border:1px solid #2980b9;border-radius:4px;width:100%}.zcalc_ ._btn:active{background-color:#2980b9}.zcalc_ ._btn:focus{outline:0}.zcalc_ ._result{overflow-x:auto;font-size:2em;text-align:right;white-space:nowrap;width:100%}.zcalc_ ._small{font-size:.7em;margin-left:10px}.zcalc_ ._big{display:inline-block;margin-left:10px}.zcalc_ ._error{color:#f06354}.zcalc_ ._settings{display:none;position:absolute;padding:0 10px;top:50px;left:0;right:0;bottom:0;background-color:#34495e}.zcalc_ ._settings select{color:#333}.zcalc_ ._settings.-shown{display:block}.zcalc_ ._z-bottom{padding:5px 15px;text-align:center;font-size:.7em}.zcalc_ ._z-bottom span{display:inline-block;font-size:1em;font-weight:700;padding-right:5px}.zcalc_ ._z-bottom a{color:#3a9bdc}.zcalc_ ._z-bottom a:hover{color:#2980b9}.zcalc_ ._z-bottom a:visited{color:#3a9bdc}.log-container{background-color:#fff;margin:5px auto;font-size:.7em;position:relative;width:100%}.log{border:1px solid #d0d0d0;padding:5px}.log div{margin-bottom:3px;word-break:break-all}</style>
</head>
<body>
<div class="container">
  <div class="zcalc_">
    <div class="_z-center">
      <div class="_z-body">
        <div class="_z-panel">
          <input type="text" id="user-input" class="_input"/>
        </div>
        <div class="_z-panel">
          <div id="result" class="_result">0</div>
        </div>
      </div>
    </div>
    <div class="_z-bottom"><span>zCalc</span><a href="https://github.com/deLiero/zCalc">deLiero</a></div>
  </div>
  <div id="log-container" class="log-container">
  </div>
</div>
  <script>function ZCalc(){function n(n){return n.replace(/[^1-9]/g,"")}this.calculate=function(e){if(e=n(e),0==(e+"").length)return[0];var a=0,t=[];for(t.push(e);e>9;){e+="";for(var i=0;i<e.length;i++)a+=parseInt(e.charAt(i));e=a,t.push(e),a=0}return t}}window.onload=function(){function n(n,l){try{var u=c.calculate(l),o=t(u);e(n,i.value,o)}catch(r){a(r)}finally{i.focus()}}function e(n,e,a){for(var t="",i=0;i<a.length;i++)0==i?t+=a[i]:t=t+" "+a[i];u.innerHTML="<div class='log'><div><b>input: </b>"+n+"</div><div><b>normalized: </b>"+e+"</div><div><b>output: </b>"+t+"</div></div>"}function a(n){u.innerHTML="<div class='log'><div><b>error: </b>"+n.message+"</div></div>"}function t(n){if("undefined"!=typeof n&&0!=n.length){var e=n.length;return 1==e?(l.innerHTML=n[0],[n[0]]):2==e?(l.innerHTML=n[e-1],[n[e-1]]):3==e?(l.innerHTML='<span class="_small">'+n[e-2]+'</span><span class="_big">'+n[e-1]+"</span>",[n[e-2],n[e-1]]):(l.innerHTML='<span class="_small">'+n[e-3]+'</span><span class="_small">'+n[e-2]+'</span><span class="_big">'+n[e-1]+"</span>",[n[e-3],n[e-2],n[e-1]])}}var i=document.getElementById("user-input"),l=document.getElementById("result"),u=document.getElementById("log-container"),c=new ZCalc,o=13;window.onblur=function(){i.blur()},window.onfocus=function(){i.select()},i.oninput=function(){var e=i.value;i.value=i.value.replace(/[^1-9]/g,""),n(e,i.value)},i.onkeydown=function(e){e.which==o&&(e.preventDefault(),n())},i.focus()};</script>
</body>
</html>